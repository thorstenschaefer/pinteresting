System.registerDynamic("app/environment.js",[],!0,function(a,b,c){"use strict";return b.environment={production:!0},c.exports}),System.registerDynamic("app/+add/add.component.js",["@angular/core","@angular/common","@angular/router","rxjs/add/operator/debounceTime","rxjs/add/operator/distinctUntilChanged","rxjs/add/operator/switchMap","../user.service"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/common"),h=a("@angular/router");a("rxjs/add/operator/debounceTime"),a("rxjs/add/operator/distinctUntilChanged"),a("rxjs/add/operator/switchMap");var i=a("../user.service"),j=function(){function a(a,b){this.userService=a,this.router=b,this.previewSrc="/invalid.png",this.imageUrl=new g.Control}return a.prototype.ngOnInit=function(){var a=this;this.userService.user.subscribe(function(b){return a.user=b}),this.image={caption:"",src:"",likes:0,shares:0,owner:null},this.imageUrl.valueChanges.debounceTime(400).distinctUntilChanged().flatMap(function(b){return a.userService.validateImageUrl(b)}).subscribe(function(b){return a.previewSrc=b})},a.prototype.onChange=function(a){console.log(a.srcElement.value)},a.prototype.submit=function(){if(null==this.user)throw Error("You have to be logged in to add an image");this.image.src=this.previewSrc,this.image.owner=this.user,console.log("Adding image "+JSON.stringify(this.image)),this.userService.addImage(this.image),this.router.navigate(["images",this.user])},a=d([f.Component({moduleId:c.id,selector:"app-add",templateUrl:"add.component.html"}),e("design:paramtypes",[i.UserService,h.Router])],a)}();return b.AddComponent=j,c.exports}),System.registerDynamic("app/+add/index.js",["./add.component"],!0,function(a,b,c){"use strict";var d=a("./add.component");return b.AddComponent=d.AddComponent,c.exports}),System.registerDynamic("app/image-list/image-list.component.js",["@angular/core","@angular/router","../user.service"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/router"),h=a("../user.service"),i=function(){function a(a){var b=this;this.userService=a,this.userService.user.subscribe(function(a){return b.user=a})}return a.prototype.ngOnInit=function(){},a.prototype["delete"]=function(a){this.userService.deleteImage(a)},a.prototype.like=function(a){this.userService.likeImage(a)},a.prototype.share=function(a){this.userService.shareImage(a,this.user)},d([f.Input(),e("design:type",Array)],a.prototype,"images",void 0),a=d([f.Component({moduleId:c.id,selector:"app-image-list",templateUrl:"image-list.component.html",directives:[g.ROUTER_DIRECTIVES]}),e("design:paramtypes",[h.UserService])],a)}();return b.ImageListComponent=i,c.exports}),System.registerDynamic("app/+user/user.component.js",["@angular/core","../user.service","../image-list/image-list.component"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("../user.service"),h=a("../image-list/image-list.component"),i=function(){function a(a){this.userService=a}return a.prototype.ngOnInit=function(){},a.prototype.routerOnActivate=function(a,b,c,d){var e=this;this.user=a.getParam("user"),this.userService.getImagesForUser(this.user).subscribe(function(a){e.images=a})},a=d([f.Component({moduleId:c.id,selector:"app-user",templateUrl:"user.component.html",directives:[h.ImageListComponent]}),e("design:paramtypes",[g.UserService])],a)}();return b.UserComponent=i,c.exports}),System.registerDynamic("app/+user/index.js",["./user.component"],!0,function(a,b,c){"use strict";var d=a("./user.component");return b.UserComponent=d.UserComponent,c.exports}),System.registerDynamic("app/user.service.js",["@angular/core","angularfire2","rxjs/Observable","rxjs/add/observable/of","rxjs/add/observable/from","rxjs/add/operator/catch","rxjs/add/operator/filter","@angular/http"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("angularfire2"),h=a("rxjs/Observable");a("rxjs/add/observable/of"),a("rxjs/add/observable/from"),a("rxjs/add/operator/catch"),a("rxjs/add/operator/filter");var i=a("@angular/http"),j="/invalid.png",k=function(){function a(a,b){var c=this;this.af=a,this.http=b,this.currentUser=null,this.ALL_IMAGES=this.af.list("/images"),this.user=this.af.auth.map(function(a){return null==a?null:a.twitter.username}),this.user.subscribe(function(a){return c.currentUser=a})}return a.prototype.getImagesForUser=function(a){return a?this.ALL_IMAGES.map(function(b){return b.filter(function(b){return b.owner===a})}):this.ALL_IMAGES},a.prototype.logout=function(){this.af.auth.logout()},a.prototype.login=function(){return this.af.auth.login()},a.prototype.addImage=function(a){console.log("adding image"),this.ALL_IMAGES.push(a)},a.prototype.deleteImage=function(a){var b=a.$key;console.log("Deleting image with key "+b),this.ALL_IMAGES.remove(b)},a.prototype.likeImage=function(a){console.log("liking image"),this.ALL_IMAGES.update(a,{likes:a.likes+1})},a.prototype.shareImage=function(a,b){if(b){console.log("sharing image");var c={src:a.src,caption:a.caption,likes:0,shares:0,owner:b};this.ALL_IMAGES.push(c),this.ALL_IMAGES.update(a,{shares:a.shares+1})}},a.prototype.validateImageUrl=function(a){return this.http.get(a)["catch"](function(a){return h.Observable.of(j)}).map(function(b){return b===j?b:a})},a=d([f.Injectable(),e("design:paramtypes",[g.AngularFire,i.Http])],a)}();return b.UserService=k,c.exports}),System.registerDynamic("app/header/header.component.js",["@angular/core","@angular/router","../user.service"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("@angular/router"),h=a("../user.service"),i=function(){function a(a,b){var c=this;this.router=a,this.userService=b,b.user.subscribe(function(a){c.user=a,c.loggedIn=null!=a})}return a.prototype.ngOnInit=function(){},a.prototype.logout=function(){this.userService.logout(),this.router.navigate(["/images"])},a.prototype.login=function(){var a=this,b=this.userService.login();b.then(function(b){var c=b?b.twitter.username:null;a.router.navigate(["/images",c])})},a=d([f.Component({moduleId:c.id,selector:"app-header",templateUrl:"header.component.html",directives:[g.ROUTER_DIRECTIVES]}),e("design:paramtypes",[g.Router,h.UserService])],a)}();return b.HeaderComponent=i,c.exports}),System.registerDynamic("app/pinteresting.component.js",["@angular/core","./+add","@angular/router","./+user","./user.service","./header/header.component"],!0,function(a,b,c){"use strict";var d=this&&this.__decorate||function(a,b,c,d){var e,f=arguments.length,g=3>f?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(3>f?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g},e=this&&this.__metadata||function(a,b){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(a,b):void 0},f=a("@angular/core"),g=a("./+add"),h=a("@angular/router"),i=a("./+user"),j=a("./user.service"),k=a("./header/header.component"),l=function(){function a(a,b){this.router=a,this.userService=b}return a=d([f.Component({moduleId:c.id,selector:"pinteresting-app",templateUrl:"pinteresting.component.html",directives:[h.ROUTER_DIRECTIVES,k.HeaderComponent],providers:[h.ROUTER_PROVIDERS,j.UserService]}),h.Routes([{path:"/add",component:g.AddComponent},{path:"/images/:user",component:i.UserComponent},{path:"/",component:i.UserComponent},{path:"/images",component:i.UserComponent}]),e("design:paramtypes",[h.Router,j.UserService])],a)}();return b.PinterestingAppComponent=l,c.exports}),System.registerDynamic("app/index.js",["./environment","./pinteresting.component"],!0,function(a,b,c){"use strict";var d=a("./environment");b.environment=d.environment;var e=a("./pinteresting.component");return b.PinterestingAppComponent=e.PinterestingAppComponent,c.exports});